# cmake_minimum_required(VERSION 3.8)
# project(ros2mower_robot)

# if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
#   add_compile_options(-Wall -Wextra -Wpedantic)
# endif()

# # find dependencies
# find_package(rclcpp REQUIRED)
# find_package(ament_cmake REQUIRED)
# find_package(std_msgs REQUIRED)
# find_package(sensor_msgs REQUIRED)
# find_package(behaviortree_cpp REQUIRED)
# # uncomment the following section in order to fill in
# # further dependencies manually.
# # find_package(<dependency> REQUIRED)

# ###########
# ## Build ##
# ###########

# ## Specify additional locations of header files
# ## Your package locations should be listed before other locations
# include_directories(
#  include
#  include/behaviors
#  ${Boost_INCLUDE_DIRS}
# )

# set(TARGET_DEPENDS
#     ament_index_cpp rclcpp rclcpp_action
#     behaviortree_cpp 
# )
# add_executable(${PROJECT_NAME} 
# src/ros2mower_robot.cpp
# #src/behaviors/CheckBattery.cpp
# #src/main.cpp
# )

# ament_target_dependencies(${PROJECT_NAME} rclcpp std_msgs
#   sensor_msgs
  
# )

# install(TARGETS
#   ${PROJECT_NAME} 
#   DESTINATION lib/${PROJECT_NAME})

# install(DIRECTORY
# #  launch
#    config
#   DESTINATION share/${PROJECT_NAME}/
# )

# ament_export_include_directories(include)
# ament_export_dependencies(std_msgs)
# ament_package()

cmake_minimum_required(VERSION 3.8)
project(ros2mower_robot)

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

# Find dependencies
find_package(ament_cmake REQUIRED)
find_package(ament_cmake_python REQUIRED)
find_package(ament_index_cpp REQUIRED)
find_package(rclpy REQUIRED)
find_package(rclcpp REQUIRED)
find_package(rclcpp_action REQUIRED)
find_package(behaviortree_cpp REQUIRED)
find_package(std_msgs REQUIRED)
find_package(sensor_msgs REQUIRED)

# Install directories
install(DIRECTORY
  config 
  DESTINATION share/${PROJECT_NAME}
)

# Install Python package
#ament_python_install_package(
#    tb3_behaviors
#    PACKAGE_DIR python/tb3_behaviors)

# Install Python scripts
#install(PROGRAMS
#    scripts/autonomy_node.py
#    scripts/test_move_base.py
#    scripts/test_vision.py
#    DESTINATION lib/${PROJECT_NAME}
#)

# Install C++ nodes
set(ROS2MOWER_SOURCES
    src/ros2mower_robot.cpp 
      
)
set(TARGET_DEPENDS
    ament_index_cpp rclcpp rclcpp_action
    behaviortree_cpp 
    std_msgs sensor_msgs
)
include_directories(include)
add_executable(ros2mower_robot_cpp ${ROS2MOWER_SOURCES})
install(TARGETS
    ros2mower_robot_cpp
    DESTINATION lib/${PROJECT_NAME}
)
ament_target_dependencies(ros2mower_robot_cpp ${TARGET_DEPENDS})
target_link_libraries(ros2mower_robot_cpp )

ament_package()
